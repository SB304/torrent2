<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Warning Torrent &mdash; Mini2Team2</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
		<meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
		<meta name="author" content="FREEHTML5.CO" />
		<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
		<link rel="shortcut icon" href="favicon.ico">
		<link rel="stylesheet" href="/torrent/resources/bootstrap/css/bootstrap.min.css">
		<!-- Google Webfonts -->
		<link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
		<!-- Animate.css / Icomoon Icon Fonts / Magnific Popup / Salvattore / Theme Style / Modernizr JS-->
		<link rel="stylesheet" href="/torrent/resources/css/animate.css">
		<link rel="stylesheet" href="/torrent/resources/css/icomoon.css">
		<link rel="stylesheet" href="/torrent/resources/css/magnific-popup.css">
		<link rel="stylesheet" href="/torrent/resources/css/salvattore.css">
		<link rel="stylesheet" href="/torrent/resources/css/style.css">
		<script src="/torrent/resources/js/modernizr-2.6.2.min.js"></script>
		<!-- jQuery / jQuery Easing / Bootstrap  / Waypoints / Magnific Popup / Salvattore / Main JS -->
		<script src="/torrent/resources/js/jquery.min.js"></script>
		<script src="/torrent/resources/js/jquery.easing.1.3.js"></script>
		<script src="/torrent/resources/js/bootstrap.min.js"></script>
		<script src="/torrent/resources/js/jquery.waypoints.min.js"></script>
		<script src="/torrent/resources/js/jquery.magnific-popup.min.js"></script>
		<script src="/torrent/resources/js/salvattore.min.js"></script>
		<script src="/torrent/resources/js/main.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
   		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
   		<!-- 핸들바 -->
   		<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.js"></script>
   		
	</head>
	<body>
	<div class="topMenu"></div>
	<!-- END .header -->
	<div id="fh5co-main">
		<div class="container">
		<div class="row">
		<div class="col-md-10 col-md-offset-1">
			<h2>Movie Board</h2>
			리스트출력
			<div id="board-list-div">
			??
			
			
			</div>
		</div>
		</div>
       </div>
	</div>
	<div class="footer"></div>
	

	<script>
		$("div.topMenu").load("/torrent/views/include/topMenu.html");
		$("div.footer").load("/torrent/views/include/footer.html");
	</script>
<!-- 	내가짜는 스크립트 -->


<!-- 핸들바 템플릿-->
	<script id="board-list-temp" type="text/x-handlebars-template">
	<table class="myTable">
	    <thead> 
	        <th>번호</th> 
	        <th>제목</th> 
	        <th>글쓴이</th> 
	        <th>날짜</th> 
	    </thead> 
	    <tbody> 
	        {{#boardVO}} 
	        <tr> 				
	            <td>{{bno}}</td> 
	            <td><a href="mailto:{{bno}}">{{title}}</a></td> 
	            <td>{{id}}</td> 
	            <td>{{regDate}}</td> 
	        </tr> 
	        {{/boardVO}} 
	    </tbody> 
	</table>
	</script>
<!-- 핸들바로 목록 가져오기 스크립트  -->
	<script>
	function makeBoardList(result){
		console.log("리스트를 만들자..")
		if(result.length==0){
			$('#board-list-div').append("게시물이 존재하지 않습니다.");
		}else{
			//핸들바 템플릿 가져오기
			var source = $("#board-list-temp").html(); 
			//핸들바 템플릿 컴파일
			var template = Handlebars.compile(source); 
			//핸들바 템플릿에 바인딩할 데이터
			//핸들바 템플릿에 데이터를 바인딩해서 HTML 생성
			var html = template(result);
			//생성된 HTML을 DOM에 주입
			$('#board-list-div').append(html);
			}
	}
	$(document).ready(function(){
		console.log("문서로딩완료했을때 리스트ajax호출..")
			$.ajax({
				url : "list.json",//url이 맨 마지막만 바뀌면 그냥써두됨
				data : {genre:3},
				dataType:"json"
			}).done(makeBoardList);//권장하는 형태
			console.log("리스트 가져왔다?")
	});
	</script>
	</body>
</html>